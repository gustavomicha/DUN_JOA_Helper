<!DOCTYPE html>
<html>
<head>
    <title>DUN JOA Helper</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="assets/icons/favicon.png">
    <link rel="stylesheet" href="src/css/style.css">
    <script src="src/js/card_names.js"></script>
    <script src="src/js/script.js" defer></script>
    <!-- analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-XXXXXXXXX-X"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-DFCWL1ZQ01');
    </script>
</head>
<body>
    <div class="center" id="mainMenu">
        <h2>DUN JOA Helper</h2> <span class="subtitle">v1.0 (fanmade)</span>
        <input type="number" id="pv" placeholder="PV" min="0" max="1000">
        <input type="number" id="players" placeholder="Héroes" min="1" max="5">
        <label>Mazo de Obstáculos predefinido? <input type="checkbox" id="customObstacles"></label>
        <button id="startGame">Nueva Partida</button>
    </div>

    <div id="loadingGifContainer" style="display: none; width: 300px; height: 300px; position: absolute; top: 40%; left: 50%; transform: translate(-50%, -50%);">
        <img src="assets/misc/loading.gif" alt="Loading..." style="width: 100%; height: 100%;">
    </div>
    
    <button id="infoButton" onclick="openInfoWindow()">?</button>

    <!-- Obstaculos Selection Modal -->
    <div id="obstaculosModal" class="modal" style="display:none;">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h3>Seleccione las cartas de Obstáculos</h3>
            <button id="selectAll">Seleccionar todas</button>
            <button id="unselectAll">Deseleccionar todas</button>
            <div id="obstaculosChoices"><!-- Obstaculos cards will be populated here --></div>
            <button id="confirmObstaculos">Confirmar Selección</button>
        </div>
    </div>

    <div id="deckSection" class="deck-container" style="display:none;">
        <div id="encountersDeck" class="deck">
            <h3>Encuentros</h3>
            <div class="deck-content"><!-- Cards will be added here --></div>
        </div>
        <div id="powerDeck" class="deck">
            <h3>Poder</h3>
            <div class="deck-content"><!-- Cards will be added here --></div>
        </div>
        <div id="obstaclesDeck" class="deck">
            <h3>Obstáculos</h3>
            <div class="deck-content"><!-- Cards will be added here --></div>
        </div>
    </div>

    <div class="game-controls-container">    
        <div id="diceContainer" class="dice-container" style="display: none;">
            <div id="dice" class="dice"></div>
            <button id="rollButton">Lanzar</button>
        </div>
                <div id="pointsSection" class="points-container" style="display: none;">
            <div class="points-row">
                <label>Puntos de Reserva: <span id="pointsReserva">0</span></label>
                <button id="decreaseReserva">-</button>
                <button id="increaseReserva">+</button>
                <button id="setReserva">Editar Reserva</button>
            </div>
            <div class="points-row">
                <label>Puntos de Logro (Héroes): <span id="pointsHeroes">0</span></label>
                <button id="decreaseHeroes">-</button>
                <button id="increaseHeroes">+</button>
            </div>
            <div class="points-row">
                <label>Puntos de Logro (JOA): <span id="pointsJOA">0</span></label>
                <button id="decreaseJOA">-</button>
                <button id="increaseJOA">+</button>
            </div>
        </div>


    </div>

    <div id="playedCardsContainer" class="played-cards-container" style="display: none;">
        <h3>Cartas en Juego</h3>
    </div>

    <button id="returnButton" style="display: none;">Volver al Menú</button>

</body>

</html>
